<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="linux 命令大全, railsoil">
    <meta name="description" content="[TOC]
1. 查看  HTTP  链接情况netstat -n | awk &amp;#39;/^tcp/ &amp;#123;++S[$NF]&amp;#125; END &amp;#123;for(a in S) print a, S[a]&amp;#125;&amp;#39;
">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>linux 命令大全 | railsoil</title>
    <link rel="icon" type="image/png" href="/favicon.png">

    <link rel="stylesheet" type="text/css" href="/libs/awesome/css/all.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/materialize/materialize.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/aos/aos.css">
    <link rel="stylesheet" type="text/css" href="/libs/animate/animate.min.css">
    <link rel="stylesheet" type="text/css" href="/libs/lightGallery/css/lightgallery.min.css">
    <link rel="stylesheet" type="text/css" href="/css/matery.css">
    <link rel="stylesheet" type="text/css" href="/css/my.css">

    <script src="/libs/jquery/jquery.min.js"></script>

<meta name="generator" content="Hexo 5.4.0"><link rel="alternate" href="/atom.xml" title="railsoil" type="application/atom+xml">
<link rel="stylesheet" href="/css/prism-tomorrow.css" type="text/css"></head>




<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">railsoil</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">railsoil</div>
        <div class="logo-desc">
            
            Never really desperate, only the lost of the soul.
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        
    </ul>
</div>


        </div>

        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('/medias/featureimages/20.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">linux 命令大全</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <link rel="stylesheet" href="/libs/tocbot/tocbot.css">
<style>
    #articleContent h1::before,
    #articleContent h2::before,
    #articleContent h3::before,
    #articleContent h4::before,
    #articleContent h5::before,
    #articleContent h6::before {
        display: block;
        content: " ";
        height: 100px;
        margin-top: -100px;
        visibility: hidden;
    }

    #articleContent :focus {
        outline: none;
    }

    .toc-fixed {
        position: fixed;
        top: 64px;
    }

    .toc-widget {
        width: 345px;
        padding-left: 20px;
    }

    .toc-widget .toc-title {
        padding: 35px 0 15px 17px;
        font-size: 1.5rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    .toc-widget ol {
        padding: 0;
        list-style: none;
    }

    #toc-content {
        padding-bottom: 30px;
        overflow: auto;
    }

    #toc-content ol {
        padding-left: 10px;
    }

    #toc-content ol li {
        padding-left: 10px;
    }

    #toc-content .toc-link:hover {
        color: #42b983;
        font-weight: 700;
        text-decoration: underline;
    }

    #toc-content .toc-link::before {
        background-color: transparent;
        max-height: 25px;

        position: absolute;
        right: 23.5vw;
        display: block;
    }

    #toc-content .is-active-link {
        color: #42b983;
    }

    #floating-toc-btn {
        position: fixed;
        right: 15px;
        bottom: 76px;
        padding-top: 15px;
        margin-bottom: 0;
        z-index: 998;
    }

    #floating-toc-btn .btn-floating {
        width: 48px;
        height: 48px;
    }

    #floating-toc-btn .btn-floating i {
        line-height: 48px;
        font-size: 1.4rem;
    }
</style>
<div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                          <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                          </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/linux/" class="post-category">
                                linux
                            </a>
                        
                            <a href="/categories/linux/linux/" class="post-category">
                                linux
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-01-04
                </div>
                

                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    8.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    34 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        

        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <p>[TOC]</p>
<h4 id="1-查看-HTTP-链接情况"><a href="#1-查看-HTTP-链接情况" class="headerlink" title="1. 查看  HTTP  链接情况"></a>1. 查看  HTTP  链接情况</h4><pre><code>netstat -n | awk &#39;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&#39;
</code></pre>
<h4 id="2-查看当前IP个数和每IP连接数"><a href="#2-查看当前IP个数和每IP连接数" class="headerlink" title="2. 查看当前IP个数和每IP连接数"></a>2. 查看当前IP个数和每IP连接数</h4><pre><code>netstat -an | grep 80 | awk &#39;&#123;print $5&#125;&#39; | awk &#39;BEGIN &#123;FS=&quot;:&quot;&#125; NF==2 &#123;print $1&#125; NF==5 &#123;print $4&#125;&#39; | sort | uniq -c | sort -n
</code></pre>
<h4 id="3-iptables-开放端口"><a href="#3-iptables-开放端口" class="headerlink" title="3. iptables 开放端口"></a>3. iptables 开放端口</h4><p>3.1. 关闭firewall：</p>
<blockquote>
<p>systemctl stop firewalld.service</p>
</blockquote>
<p>3.2. 停止firewall</p>
<blockquote>
<p>systemctl disable firewalld.service  </p>
</blockquote>
<p>3.3. 安装安装iptables防火墙</p>
<blockquote>
<p>yum install iptables-services</p>
</blockquote>
<p>3.4.升级</p>
<pre><code>yum update iptables 
--允许关联的状态包通过
iptables -A INPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
iptables -A OUTPUT -m state --state ESTABLISHED,RELATED -j ACCEPT
</code></pre>
<p>3.5. 开放特定的端口，以80为例</p>
<blockquote>
<p>iptables -A INPUT -p tcp –dport 80 -j ACCEP</p>
</blockquote>
<p>3.6. 重启</p>
<blockquote>
<p>systemctl restart iptables.service</p>
</blockquote>
<p>3.7. 保存配置</p>
<blockquote>
<p>service iptables save</p>
</blockquote>
<p>3.8. 设置开机自启动</p>
<blockquote>
<p>systemctl enable iptables.service </p>
</blockquote>
<h4 id="4-列出相关目录下的所有目录和文件"><a href="#4-列出相关目录下的所有目录和文件" class="headerlink" title="4. 列出相关目录下的所有目录和文件"></a>4. 列出相关目录下的所有目录和文件</h4><blockquote>
<p>ls [选项名] [目录名] </p>
</blockquote>
<pre><code> -a 列出包括.a开头的隐藏文件的所有文件
 -A 通 -a,但是不列出 &quot;.&quot;和&quot;..&quot;
 -l 列出文件的详细信息
 -c 根据ctime 排序显示
 -t 根据文件修改时间排序
 -r  反序排列
 -S 以文件大小排序
 -h  以异度大小显示
 ---color[=WHEN] 用色彩辨别文件类型, WHEN 可以是&#39;never&#39;,&#39;always&#39;或&#39;auto&#39; 其中之一
   白色:表示普通文件
   蓝色:表示目录
   绿色:表示可执行文件
   红色:表示压缩文件
   浅蓝色:链接文件
   红色闪烁:表示链接的文件有问题
   黄色:表示设备文件
   灰色:表示其他文件
 
</code></pre>
<blockquote>
<blockquote>
<p> 例子</p>
</blockquote>
</blockquote>
<pre><code>#  按易读的方式按时间排序,并显示文件详细信息
ls -lhrt
# 按照大小 反序显示文件的详细信息
ls -lrS
# 列出文件绝对路径（不包含隐藏文件）
ls | sed &quot;s:^:`pwd`/:&quot;
# 列出文件绝对路径（包含隐藏文件）
find $pwd -maxdepth 1 | xargs ls -ld
</code></pre>
<h4 id="5-移动或重命名文件"><a href="#5-移动或重命名文件" class="headerlink" title="5. 移动或重命名文件"></a>5. 移动或重命名文件</h4><blockquote>
<p> mv [选项] 源文件或目录 目录或多个源文件 </p>
</blockquote>
<pre><code>-b 覆盖前做备份
-f 如存在不询问而强制覆盖
-i 如存在则询问是否覆盖
-u 较新才覆盖
-t 将多个源文件移动到统一目录下,目录参数在前,文件参数在后
 eg:
  mv a /tmp/ 将文件a 移动到 /tmp 目录下
  mv a b 将a 命令为b
  mv /home/zenghao test1.txt test2.txt test3.txt
</code></pre>
<h4 id="6-将源文件复制至目标文件-或将多个源文件复制至目标目录"><a href="#6-将源文件复制至目标文件-或将多个源文件复制至目标目录" class="headerlink" title="6.  将源文件复制至目标文件,或将多个源文件复制至目标目录"></a>6.  将源文件复制至目标文件,或将多个源文件复制至目标目录</h4><blockquote>
<p>cp [选项] 源文件或目录 目录或多个源文件   </p>
</blockquote>
<pre><code>-r -R 递归复制该目录以及子目录内容
-p 连同档案属性一起复制过去
-f 不询问而强制复制
-s 生成快捷方式
-a 将档案的所有特性都一起复制
</code></pre>
<h4 id="7-在linux-服务器之间复制文件和目录"><a href="#7-在linux-服务器之间复制文件和目录" class="headerlink" title="7. 在linux 服务器之间复制文件和目录"></a>7. 在linux 服务器之间复制文件和目录</h4><blockquote>
<p>scp [参数] [原路径] [目标路径]</p>
</blockquote>
<pre><code>-v 详细显示输入的具体情况
-r 递归复制整个目录
(1) 复制文件：  
命令格式：  
scp local_file remote_username@remote_ip:remote_folder  
或者  
scp local_file remote_username@remote_ip:remote_file  
或者  
scp local_file remote_ip:remote_folder  
或者  
scp local_file remote_ip:remote_file  
第1,2个指定了用户名，命令执行后需要输入用户密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名  
第3,4个没有指定用户名，命令执行后需要输入用户名和密码，第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名   
(2) 复制目录：  
命令格式：  
scp -r local_folder remote_username@remote_ip:remote_folder  
或者  
scp -r local_folder remote_ip:remote_folder  
第1个指定了用户名，命令执行后需要输入用户密码；  
第2个没有指定用户名，命令执行后需要输入用户名和密码；
eg:
   从 本地 复制到 远程
   scp /home/daisy/full.tar.gz root@172.19.2.75:/home/root 
   从 远程 复制到 本地
   scp root@/172.19.2.75:/home/root/full.tar.gz /home/daisy/full.tar.gz
</code></pre>
<h4 id="8-删除文件"><a href="#8-删除文件" class="headerlink" title="8. 删除文件"></a>8. 删除文件</h4><blockquote>
<p>rm [选项] 文件</p>
</blockquote>
<pre><code>-r 删除文件夹
-f 删除不提示
-i 删除提示
-v 详细显示进行步骤
</code></pre>
<h4 id="9-创建空的文件或更新文件时间"><a href="#9-创建空的文件或更新文件时间" class="headerlink" title="9. 创建空的文件或更新文件时间"></a>9. 创建空的文件或更新文件时间</h4><blockquote>
<p>touch [选项] 文件</p>
</blockquote>
<pre><code>-a 只修改存取时间
-m 只修改变动时间
-r  
  eg:touch -r a b ,使b的时间和a相同
-t 指定特定的时间 
  eg:touch -t 201211142234.50 log.log 
   -t time [[CC]YY]MMDDhhmm[.SS],C:年前两位
</code></pre>
<h4 id="10-查看当前所在的路径"><a href="#10-查看当前所在的路径" class="headerlink" title="10.查看当前所在的路径"></a>10.查看当前所在的路径</h4><blockquote>
<p>pwd</p>
<blockquote>
<p> 例子</p>
</blockquote>
</blockquote>
<pre><code># 查看软链接的实际路径
pwd -p
</code></pre>
<h4 id="11-改变当前目录"><a href="#11-改变当前目录" class="headerlink" title="11. 改变当前目录"></a>11. 改变当前目录</h4><blockquote>
<p>cd </p>
</blockquote>
<pre><code>- ：返回上次目录
.. :返回上层目录
回车  ：返回主目录
/   :根目录
</code></pre>
<h4 id="12-创建新目录"><a href="#12-创建新目录" class="headerlink" title="12. 创建新目录"></a>12. 创建新目录</h4><blockquote>
<p>mkdir [选项] 目录</p>
</blockquote>
<pre><code>-p 递归创建目录,若父目录不存在则以此创建
-m 自定义创建目录的权限 
  eg: mkdir -m 777 hehe
-v 显示创建目录的详细信息
</code></pre>
<h4 id="13-删除空的目录"><a href="#13-删除空的目录" class="headerlink" title="13. 删除空的目录"></a>13. 删除空的目录</h4><blockquote>
<p>rmdir</p>
</blockquote>
<pre><code>-v 显示执行过程
-p 自父目录删除,若父目录为空,则一并删除
</code></pre>
<h4 id="14-删除一个或多个文件或目录"><a href="#14-删除一个或多个文件或目录" class="headerlink" title="14. 删除一个或多个文件或目录"></a>14. 删除一个或多个文件或目录</h4><blockquote>
<p>rm [选项] 文件</p>
</blockquote>
<pre><code>-f 忽略不存在的文件,不给出提示
-i 交互式删除
-r 将列出的目录以及子目录递归删除
-v 列出详细的信息
</code></pre>
<h4 id="15-显示内容"><a href="#15-显示内容" class="headerlink" title="15 . 显示内容"></a>15 . 显示内容</h4><blockquote>
<p>echo</p>
</blockquote>
<pre><code>-n 输出后不换行
-e 遇到转义字符特殊处理
</code></pre>
<h4 id="16-一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件"><a href="#16-一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件" class="headerlink" title="16. 一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件"></a>16. 一次显示整个文件或从键盘创建一个文件或将几个文件合并成一个文件</h4><blockquote>
<p>cat [选项 文件</p>
</blockquote>
<pre><code>-n 编号文件内容再输出
-E 在结束行提示$
cat &gt;  fileanme   #创建一个文件
cat file1 file2 &gt; file  # 将几个文件合并为一个文件
</code></pre>
<h4 id="17-反向显示"><a href="#17-反向显示" class="headerlink" title="17. 反向显示"></a>17. 反向显示</h4><blockquote>
<p>tac</p>
</blockquote>
<h4 id="18-按页查看文章内容-从前向后读取文件-因此在启动的时候就加载整个文件"><a href="#18-按页查看文章内容-从前向后读取文件-因此在启动的时候就加载整个文件" class="headerlink" title="18. 按页查看文章内容,从前向后读取文件,因此在启动的时候就加载整个文件"></a>18. 按页查看文章内容,从前向后读取文件,因此在启动的时候就加载整个文件</h4><blockquote>
<p>more</p>
</blockquote>
<pre><code>+n 从第n行开始显示
-n 每次查看n行数据
+/string  搜寻string字符串位置,从其前两行开始查看
-c 清屏再显示
-d       提示“Press space to continue，’q’ to quit（按空格键继续，按q键退出）”，禁用响铃功能
-l        忽略Ctrl+l（换页）字符
-p       通过清除窗口而不是滚屏来对文件进行换页，与-c选项相似
-s       把连续的多个空行显示为一行
-u       把文件内容中的下画线去掉
</code></pre>
<blockquote>
<p>常用操作命令</p>
</blockquote>
<pre><code>Enter    向下 n 行，需要定义。默认为 1 行
Ctrl+F   向下滚动一屏
空格键  向下滚动一屏
Ctrl+B  返回上一屏
=       输出当前行的行号
:f     输出文件名和当前行的行号
V      调用vi编辑器
!命令   调用Shell，并执行命令
q       退出more
</code></pre>
<h4 id="19-可前后移动的逐屏查看文章内容-在查看钱不会加载整个文件"><a href="#19-可前后移动的逐屏查看文章内容-在查看钱不会加载整个文件" class="headerlink" title="19. 可前后移动的逐屏查看文章内容,在查看钱不会加载整个文件"></a>19. 可前后移动的逐屏查看文章内容,在查看钱不会加载整个文件</h4><blockquote>
<p>less</p>
</blockquote>
<pre><code>-m 显示类似于more命令的百分比
-N 显示行号
/  字符串:向下搜索&quot;字符串&quot;的功能
?  字符串:向上搜索&quot;字符串&quot;的功能
n  重复前一个搜索(与/或?有关)
b  向后翻一页
d  向后翻半夜
</code></pre>
<blockquote>
<p>常用命令</p>
</blockquote>
<pre><code>-i  忽略搜索时的大小写
-N  显示每行的行号
-o  &lt;文件名&gt; 将less 输出的内容在指定文件中保存起来
-s  显示连续空行为一行
/字符串：向下搜索“字符串”的功能
?字符串：向上搜索“字符串”的功能
n：重复前一个搜索（与 / 或 ? 有关）
N：反向重复前一个搜索（与 / 或 ? 有关）
-x &lt;数字&gt; 将“tab”键显示为规定的数字空格
b  向后翻一页
d  向后翻半页
h  显示帮助界面
Q  退出less 命令
u  向前滚动半页
y  向前滚动一行
空格键 滚动一行
回车键 滚动一页
[pagedown]： 向下翻动一页
[pageup]：   向上翻动一页
</code></pre>
<h4 id="20-将输出内容自动加上行号"><a href="#20-将输出内容自动加上行号" class="headerlink" title="20. 将输出内容自动加上行号"></a>20. 将输出内容自动加上行号</h4><blockquote>
<p>nl [选项] …[文件]…</p>
</blockquote>
<pre><code>-b 
-b a 不论是否有空格,都列出行号 (类似 cat -n)
-b t 空格则不列行号(默认)
-n 有ln,rn,rz 三个参数,分别为在最左方显示,最右方显示不加0,最右方显示加0
</code></pre>
<h4 id="21-显示档案开头-默认显示10行"><a href="#21-显示档案开头-默认显示10行" class="headerlink" title="21. 显示档案开头,默认显示10行"></a>21. 显示档案开头,默认显示10行</h4><blockquote>
<p>head [参数]…[文件]…</p>
</blockquote>
<pre><code>-v  显示文件名
-c number 显示前number个字符,若number 为负数,则显示除最后number个字符的所有内容
-number/n (+)number 显示前number 行内容
-n number 若number为负数,则显示除最后number行数据的所有内容
</code></pre>
<h4 id="22-显示文件结尾内容"><a href="#22-显示文件结尾内容" class="headerlink" title="22. 显示文件结尾内容"></a>22. 显示文件结尾内容</h4><blockquote>
<p>tail [必要参数] [选择参数]</p>
</blockquote>
<pre><code>-v 显示详细的处理信息
-q  不显示处理信息
-num/-n  (-)num  显示最后num 行内容
-c  显示最后c个字符
-f  循环读取
</code></pre>
<h4 id="23-编辑文件"><a href="#23-编辑文件" class="headerlink" title="23. 编辑文件"></a>23. 编辑文件</h4><blockquote>
<p>vi</p>
</blockquote>
<pre><code>:w filename 将文章以指定的文件名保存起来  
:wq 保存并退出
:q! 不保存而强制退出
:set number 或者 :set nu 显示行号
:set  nonumber 或者 :set nonu 隐藏行号
命令行模式功能键
1）插入模式
   按「i」切换进入插入模式「insert mode」，按&quot;i&quot;进入插入模式后是从光标当前位置开始输入文件；
   按「a」进入插入模式后，是从目前光标所在位置的下一个位置开始输入文字；
   按「o」进入插入模式后，是插入新的一行，从行首开始输入文字。

2）从插入模式切换为命令行模式
 按「ESC」键。
3）移动光标
　　vi可以直接用键盘上的光标来上下左右移动，但正规的vi是用小写英文字母「h」、「j」、「k」、「l」，分别控制光标左、下、上、右移一格。
　　按「ctrl」+「b」：屏幕往&quot;后&quot;移动一页。
　　按「ctrl」+「f」：屏幕往&quot;前&quot;移动一页。
　　按「ctrl」+「u」：屏幕往&quot;后&quot;移动半页。
　　按「ctrl」+「d」：屏幕往&quot;前&quot;移动半页。
　　按数字「0」：移到文章的开头。
　　按「G」：移动到文章的最后。
　　按「$」：移动到光标所在行的&quot;行尾&quot;。
　　按「^」：移动到光标所在行的&quot;行首&quot;
　　按「w」：光标跳到下个字的开头
　　按「e」：光标跳到下个字的字尾
　　按「b」：光标回到上个字的开头
　　按「#l」：光标移到该行的第#个位置，如：5l,56l。

4）删除文字
　　「x」：每按一次，删除光标所在位置的&quot;后面&quot;一个字符。
　　「#x」：例如，「6x」表示删除光标所在位置的&quot;后面&quot;6个字符。
　　「X」：大写的X，每按一次，删除光标所在位置的&quot;前面&quot;一个字符。
　　「#X」：例如，「20X」表示删除光标所在位置的&quot;前面&quot;20个字符。
　　「dd」：删除光标所在行。
　　「#dd」：从光标所在行开始删除#行

5）复制
　　「yw」：将光标所在之处到字尾的字符复制到缓冲区中。
　　「#yw」：复制#个字到缓冲区
　　「yy」：复制光标所在行到缓冲区。
　　「#yy」：例如，「6yy」表示拷贝从光标所在的该行&quot;往下数&quot;6行文字。
　　「p」：将缓冲区内的字符贴到光标所在位置。注意：所有与&quot;y&quot;有关的复制命令都必须与&quot;p&quot;配合才能完成复制与粘贴功能。

6）替换
　　「r」：替换光标所在处的字符。
　　「R」：替换光标所到之处的字符，直到按下「ESC」键为止。

7）回复上一次操作
　　「u」：如果您误执行一个命令，可以马上按下「u」，回到上一个操作。按多次&quot;u&quot;可以执行多次回复。

8）更改
　　「cw」：更改光标所在处的字到字尾处
　　「c#w」：例如，「c3w」表示更改3个字

9）跳至指定的行
　　「ctrl」+「g」列出光标所在行的行号。
　　「#G」：例如，「15G」，表示移动光标至文章的第15行行首。
</code></pre>
<h4 id="24-查看可执行文件的位置-在PATH变量指定的路径中查看系统命令是否存在及其位置"><a href="#24-查看可执行文件的位置-在PATH变量指定的路径中查看系统命令是否存在及其位置" class="headerlink" title="24. 查看可执行文件的位置,在PATH变量指定的路径中查看系统命令是否存在及其位置"></a>24. 查看可执行文件的位置,在PATH变量指定的路径中查看系统命令是否存在及其位置</h4><blockquote>
<p>which</p>
</blockquote>
<h4 id="25-定位可执行文件-源代码文件-帮助文件在文件系统中的位置"><a href="#25-定位可执行文件-源代码文件-帮助文件在文件系统中的位置" class="headerlink" title="25. 定位可执行文件,源代码文件,帮助文件在文件系统中的位置"></a>25. 定位可执行文件,源代码文件,帮助文件在文件系统中的位置</h4><blockquote>
<p>whereis [-bmsu] [BMS 目录名 -f] 文件名</p>
</blockquote>
<pre><code>-b 定位可执行文件
-m 定位帮助文件
-s  定位源代码文件
-u  搜索默认路径下除可执行文件,源代码文件,帮助文件以外的其他文件
-B 指定搜索可执行文件的路径
-M 指定搜索帮助文件文件的路径
-S 指定搜索源文件的路径
</code></pre>
<h4 id="26-通过搜寻数据库快速搜寻档案"><a href="#26-通过搜寻数据库快速搜寻档案" class="headerlink" title="26. 通过搜寻数据库快速搜寻档案"></a>26. 通过搜寻数据库快速搜寻档案</h4><blockquote>
<p>locate </p>
</blockquote>
<pre><code>-r  使用正则运算式做寻找的条件
</code></pre>
<h4 id="27-在文件树中查找文件-并作出相应的处理"><a href="#27-在文件树中查找文件-并作出相应的处理" class="headerlink" title="27. 在文件树中查找文件,并作出相应的处理"></a>27. 在文件树中查找文件,并作出相应的处理</h4><blockquote>
<p>find [PATH] [option] [action]</p>
</blockquote>
<pre><code>选项与参数：
1. 与时间有关的选项：共有 -atime, -ctime 与 -mtime 和-amin,-cmin与-mmin，以 -mtime 说明
   -mtime n ：n 为数字，意义为在 n 天之前的『一天之内』被更动过内容的档案；
   -mtime +n ：列出在 n 天之前(不含 n 天本身)被更动过内容的档案档名；
   -mtime -n ：列出在 n 天之内(含 n 天本身)被更动过内容的档案档名。
   -newer file ：file 为一个存在的档案，列出比 file 还要新的档案档名

2. 与使用者或组名有关的参数：
   -uid n ：n 为数字，这个数字是用户的账号 ID，亦即 UID
   -gid n ：n 为数字，这个数字是组名的 ID，亦即 GID
   -user name ：name 为使用者账号名称！例如 dmtsai
   -group name：name 为组名，例如 users ；
   -nouser ：寻找档案的拥有者不存在 /etc/passwd 的人！
   -nogroup ：寻找档案的拥有群组不存在于 /etc/group 的档案！

3. 与档案权限及名称有关的参数：
   -name filename：搜寻文件名为 filename 的档案（可使用通配符）
   -size [+-]SIZE：搜寻比 SIZE 还要大(+)或小(-)的档案。这个 SIZE 的规格有：
       c: 代表 byte
       k: 代表 1024bytes。所以，要找比 50KB还要大的档案，就是『 -size +50k 』
   -type TYPE ：搜寻档案的类型为 TYPE 的，类型主要有：
       一般正规档案 (f)
       装置档案 (b, c)
       目录 (d)
       连结档 (l)
       socket (s)
       FIFO (p)
   -perm mode ：搜寻档案权限『刚好等于』 mode的档案，这个mode为类似chmod的属性值，举例来说，-rwsr-xr-x 的属性为4755！
   -perm -mode ：搜寻档案权限『必须要全部囊括 mode 的权限』的档案，举例来说，
       我们要搜寻-rwxr--r-- 亦即 0744 的档案，使用-perm -0744，当一个档案的权限为 -rwsr-xr-x ，亦即 4755 时，也会被列出来，因为 -rwsr-xr-x 的属性已经囊括了 -rwxr--r-- 的属性了。
   -perm +mode ：搜寻档案权限『包含任一 mode 的权限』的档案，举例来
       说，我们搜寻-rwxr-xr-x ，亦即 -perm +755 时，但一个文件属性为 -rw-------也会被列出来，因为他有 -rw.... 的属性存在！
4. 额外可进行的动作：
   -exec command ：command 为其他指令，-exec 后面可再接额外的指令来处理搜寻到的结果。
   -print ：将结果打印到屏幕上，这个动作是预设动作！
   eg:
       find / -perm +7000 -exec ls -l &#123;&#125; ; ,额外指令以-exec开头，以;结尾&#123;&#125;代替前面找到的内容
   | xargs 
       -i  默认的前面输出用&#123;&#125;代替 
       eg:
           find . -name &quot;*.log&quot; | xargs -i mv &#123;&#125; test4
</code></pre>
<h4 id="28-用正则表达式搜索文本-并把匹配的行打印出来"><a href="#28-用正则表达式搜索文本-并把匹配的行打印出来" class="headerlink" title="28.用正则表达式搜索文本,并把匹配的行打印出来"></a>28.用正则表达式搜索文本,并把匹配的行打印出来</h4><blockquote>
<p>grep “正则表达式” 文件名</p>
</blockquote>
<pre><code>-c  只输出匹配行的计数
-I 不区分大小写
-l 只显示文件名
-v 显示不包含匹配文本的所有行
-n 显示匹配数据以及行数
</code></pre>
<h4 id="29-判断文件类型"><a href="#29-判断文件类型" class="headerlink" title="29.判断文件类型"></a>29.判断文件类型</h4><blockquote>
<p>file </p>
</blockquote>
<h4 id="30-压缩-解压缩"><a href="#30-压缩-解压缩" class="headerlink" title="30. 压缩,解压缩"></a>30. 压缩,解压缩</h4><blockquote>
<p>gzip [选项] 文件/文件夹</p>
</blockquote>
<pre><code>-a：使用ASCII文字模式；
-d：解开压缩文件；
-f：强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接；
-h：在线帮助；
-l：列出压缩文件的相关信息；
-L：显示版本与版权信息；
-n：压缩文件时，不保存原来的文件名称及时间戳记；
-N：压缩文件时，保存原来的文件名称及时间戳记；
-q：不显示警告信息；
-r：递归处理，将指定目录下的所有文件及子目录一并处理；
-S或&lt;压缩字尾字符串&gt;或----suffix&lt;压缩字尾字符串&gt;：更改压缩字尾字符串；
-t：测试压缩文件是否正确无误；
-v：显示指令执行过程；
-V：显示版本信息；
-&lt;压缩效率&gt;：压缩效率是一个介于1~9的数值，预设值为“6”，指定愈大的数值，压缩效率就会愈高；
--best：此参数的效果和指定“-9”参数相同；
--fast：此参数的效果和指定“-1”参数相同
</code></pre>
<h4 id="31-多个目录或文件打包-压缩成一个大文件"><a href="#31-多个目录或文件打包-压缩成一个大文件" class="headerlink" title="31. 多个目录或文件打包,压缩成一个大文件"></a>31. 多个目录或文件打包,压缩成一个大文件</h4><blockquote>
<p>tar [主选项+辅选项] 文件或目录</p>
</blockquote>
<pre><code>主选项：
   -c  建立打包档案，可搭配 -v 来察看过程中被打包的档名(filename)
   -t  察看打包档案的内容含有哪些档名，重点在察看『档名』就是了；
   -x  解打包或解压缩的功能，可以搭配 -C (大写) 在特定目录解开
辅选项：
   -j  透过 bzip2 的支持进行压缩/解压缩：此时档名最好为 *.tar.bz2
   -z  透过 gzip 的支持进行压缩/解压缩：此时档名最好为 *.tar.gz
   -v  在压缩/解压缩的过程中，将正在处理的文件名显示出来！
   -f filename -f 后面要立刻接要被处理的档名！
   -C 目录   这个选项用在解压缩，若要在特定目录解压缩，可以使用这个选项。
   --exclude FILE：在压缩打包过程中忽略某文件 eg: tar --exclude /home/zenghao -zcvf myfile.tar.gz /home/* /etc
   -p  保留备份数据的原本权限与属性，常用于备份(-c)重要的配置文件
   -P(大写）  保留绝对路径，亦即允许备份数据中含有根目录存在之意；
eg:
   压 缩：tar -jcvf filename.tar.bz2 要被压缩的档案或目录名称
   查 询：tar -jtvf filename.tar.bz2
   解压缩：tar -jxvf filename.tar.bz2 -C 欲解压缩的目录
</code></pre>
<h4 id="32-关机"><a href="#32-关机" class="headerlink" title="32. 关机"></a>32. 关机</h4><blockquote>
<p>shutdown -n now</p>
</blockquote>
<h4 id="33-显示当前登录的用户"><a href="#33-显示当前登录的用户" class="headerlink" title="33. 显示当前登录的用户"></a>33. 显示当前登录的用户</h4><blockquote>
<p>users</p>
</blockquote>
<h4 id="34-登录在本机的用户与来源"><a href="#34-登录在本机的用户与来源" class="headerlink" title="34. 登录在本机的用户与来源"></a>34. 登录在本机的用户与来源</h4><blockquote>
<p>who </p>
</blockquote>
<pre><code>-H 或 --heading  显示和栏位的标题信息列
</code></pre>
<h4 id="35-给当前联机的用户发消息"><a href="#35-给当前联机的用户发消息" class="headerlink" title="35.给当前联机的用户发消息"></a>35.给当前联机的用户发消息</h4><blockquote>
<p>wirite</p>
</blockquote>
<h4 id="36-查看用户的登陆日志"><a href="#36-查看用户的登陆日志" class="headerlink" title="36. 查看用户的登陆日志"></a>36. 查看用户的登陆日志</h4><blockquote>
<p>last</p>
<h4 id="37-查看每个用户的最后登录时间"><a href="#37-查看每个用户的最后登录时间" class="headerlink" title="37. 查看每个用户的最后登录时间"></a>37. 查看每个用户的最后登录时间</h4><p>lastlog</p>
</blockquote>
<h4 id="38-查看用户信息"><a href="#38-查看用户信息" class="headerlink" title="38.查看用户信息"></a>38.查看用户信息</h4><blockquote>
<p>finger [选项][使用者] [用户@主机]</p>
</blockquote>
<pre><code>-a 显示用户的注册名,实际姓名,终端名称,写状态,停滞时间,登录时间等信息
-l 除了用-s 选项显示的信息外,还显示用户主目录,登录shell,邮件状态等信息,以及用户主目录下的.plan,.project和.forward 文件的内容
-p 除了不显示.plan文件和.project 文件之外,与-l 选项相同
</code></pre>
<h4 id="39-查看主机名"><a href="#39-查看主机名" class="headerlink" title="39. 查看主机名"></a>39. 查看主机名</h4><blockquote>
<p>hostname</p>
</blockquote>
<h4 id="40-别名"><a href="#40-别名" class="headerlink" title="40. 别名"></a>40. 别名</h4><blockquote>
<p>alias ii = “ls -l”  添加别名</p>
</blockquote>
<blockquote>
<p>unalias ii         清除别名</p>
<h4 id="41-新增用户"><a href="#41-新增用户" class="headerlink" title="41.  新增用户"></a>41.  新增用户</h4><p>.useradd [-u UID] [-g 初始群组] [-G 次要群组] [-c 说明栏] [-d 家目录绝对路径] [-s shell] 使用者账号名</p>
</blockquote>
<pre><code>-M 不建立用户目录,
-m  建立用户目录
-r 建立一个系统的账号,这个账号的UID会有限制
-e 账号失效日期,格式为[YYYY-MM=DD]
-D  查看useradd 的各项默认值
</code></pre>
<h4 id="42-密码"><a href="#42-密码" class="headerlink" title="42. 密码"></a>42. 密码</h4><blockquote>
<p>passwd</p>
</blockquote>
<pre><code>-l  密码失效
-u  与-l 相对,用户解锁
-S 列出登录用户passwd文件的相关参数
-n  后面接天数，shadow 的第 4 字段，多久不可修改密码天数
-x  后面接天数，shadow 的第 5 字段，多久内必须要更动密码
-w  后面接天数，shadow 的第 6 字段，密码过期前的警告天数
-i  后面接『日期』，shadow 的第 7 字段，密码失效日期
使用管道刘设置密码：echo &quot;zeng&quot; | passwd --stdin zenghao
</code></pre>
<h4 id="43-删除用户"><a href="#43-删除用户" class="headerlink" title="43. 删除用户"></a>43. 删除用户</h4><blockquote>
<p>userde </p>
</blockquote>
<pre><code>-r 用户文件一并删除
</code></pre>
<h4 id="44-修改用户密码的相关属性"><a href="#44-修改用户密码的相关属性" class="headerlink" title="44. 修改用户密码的相关属性"></a>44. 修改用户密码的相关属性</h4><blockquote>
<p>chage [-ldEImMW] 账号名</p>
</blockquote>
<pre><code>-l  列出该账号的详细密码参数；
-d  后面接日期，修改 shadow 第三字段(最近一次更改密码的日期)，格式YYYY-MM-DD
-E  后面接日期，修改 shadow 第八字段(账号失效日)，格式 YYYY-MM-DD
-I  后面接天数，修改 shadow 第七字段(密码失效日期)
-m  后面接天数，修改 shadow 第四字段(密码最短保留天数)
-M  后面接天数，修改 shadow 第五字段(密码多久需要进行变更)
-W  后面接天数，修改 shadow 第六字段(密码过期前警告日期)
</code></pre>
<h4 id="45-修改用户的相关属性"><a href="#45-修改用户的相关属性" class="headerlink" title="45. 修改用户的相关属性"></a>45. 修改用户的相关属性</h4><blockquote>
<p>usermod [-cdegGlsuLU] username</p>
</blockquote>
<pre><code>-c  后面接账号的说明，即 /etc/passwd 第五栏的说明栏，可以加入一些账号的说明。
-d  后面接账号的家目录，即修改 /etc/passwd 的第六栏；
-e  后面接日期，格式是 YYYY-MM-DD 也就是在 /etc/shadow 内的第八个字段数据啦！
-f  后面接天数为 shadow 的第七字段。
-g  后面接初始群组，修改 /etc/passwd 的第四个字段，亦即是GID的字段！
-G  后面接次要群组，修改这个使用者能够支持的群组
-l  后面接账号名称。亦即是修改账号名称， /etc/passwd 的第一栏！
-s  后面接 Shell 的实际档案，例如 /bin/bash 或 /bin/csh 等等。
-u  后面接 UID 数字啦！即 /etc/passwd 第三栏的资料；
-L  冻结密码
-U  解冻密码
</code></pre>
<h4 id="46-查看用户相关的id信息，还可以用来判断用户是否存在"><a href="#46-查看用户相关的id信息，还可以用来判断用户是否存在" class="headerlink" title="46. 查看用户相关的id信息，还可以用来判断用户是否存在"></a>46. 查看用户相关的id信息，还可以用来判断用户是否存在</h4><blockquote>
<p>id [username] </p>
</blockquote>
<h4 id="47-查看登陆用户支持的群组，-第一个输出的群组为有效群组"><a href="#47-查看登陆用户支持的群组，-第一个输出的群组为有效群组" class="headerlink" title="47. 查看登陆用户支持的群组， 第一个输出的群组为有效群组"></a>47. 查看登陆用户支持的群组， 第一个输出的群组为有效群组</h4><blockquote>
<p>groups</p>
</blockquote>
<h4 id="48-切换有效群组"><a href="#48-切换有效群组" class="headerlink" title="48. 切换有效群组"></a>48. 切换有效群组</h4><blockquote>
<p>newgrp</p>
</blockquote>
<h4 id="49-添加组"><a href="#49-添加组" class="headerlink" title="49. 添加组"></a>49. 添加组</h4><blockquote>
<p>groupadd [-g gid] 组名 </p>
</blockquote>
<pre><code>-g 设定添加组的特定组的id
</code></pre>
<h4 id="50-修改组信息"><a href="#50-修改组信息" class="headerlink" title="50. 修改组信息"></a>50. 修改组信息</h4><blockquote>
<p>groupmod [-g gid] [-n group_name] 群组名</p>
</blockquote>
<pre><code>-g  修改既有的 GID 数字
-n  修改既有的组名
</code></pre>
<h4 id="51-删除群组"><a href="#51-删除群组" class="headerlink" title="51. 删除群组"></a>51. 删除群组</h4><blockquote>
<p>groupdel [groupname] </p>
</blockquote>
<h4 id="52-群组管理员"><a href="#52-群组管理员" class="headerlink" title="52.群组管理员"></a>52.群组管理员</h4><blockquote>
<p>gpasswd </p>
</blockquote>
<pre><code>root管理员动作：
   -gpasswd groupname 设定密码
   -gpasswd [-A user1,...] [-M user3,...] groupname
       -A  将 groupname 的主控权交由后面的使用者管理(该群组的管理员)
       -M  将某些账号加入这个群组当中
   -gpasswd [-r] groupname
       -r  将 groupname 的密码移除
群组管理员动作：
   - gpasswd [-ad] user groupname 
       -a  将某位使用者加入到 groupname 这个群组当中
       -d  将某位使用者移除出 groupname 这个群组当中
</code></pre>
<h4 id="53-修改个人信息"><a href="#53-修改个人信息" class="headerlink" title="53. 修改个人信息"></a>53. 修改个人信息</h4><blockquote>
<p>chfn</p>
</blockquote>
<h4 id="54-分割"><a href="#54-分割" class="headerlink" title="54.分割"></a>54.分割</h4><blockquote>
<p>cut</p>
</blockquote>
<pre><code>-b ：以字节为单位进行分割。这些字节位置将忽略多字节字符边界，除非也指定了 -n 标志。
-c ：以字符为单位进行分割。
-d ：自定义分隔符，默认为制表符。
-f  ：与-d一起使用，指定显示哪个区域。
</code></pre>
<h4 id="55-排序"><a href="#55-排序" class="headerlink" title="55.排序"></a>55.排序</h4><blockquote>
<p>sort</p>
</blockquote>
<pre><code>-n   依照数值的大小排序。
-o&lt;输出文件&gt;   将排序后的结果存入指定的文件。
-r   以相反的顺序来排序。
-t&lt;分隔字符&gt;   指定排序时所用的栏位分隔字符。
-k  选择以哪个区间进行排序。
</code></pre>
<h4 id="56-统计指定文件中的字节数、字数、行数-并将统计结果显示输出"><a href="#56-统计指定文件中的字节数、字数、行数-并将统计结果显示输出" class="headerlink" title="56. 统计指定文件中的字节数、字数、行数, 并将统计结果显示输出"></a>56. 统计指定文件中的字节数、字数、行数, 并将统计结果显示输出</h4><blockquote>
<p>wc</p>
</blockquote>
<pre><code>-l filename 报告行数
-c filename 报告字节数
-m filename 报告字符数
-w filename 报告单词数
</code></pre>
<h4 id="57-去除文件中相邻的重复行"><a href="#57-去除文件中相邻的重复行" class="headerlink" title="57. 去除文件中相邻的重复行"></a>57. 去除文件中相邻的重复行</h4><blockquote>
<p>uniq</p>
</blockquote>
<pre><code>-c或——count：在每列旁边显示该行重复出现的次数；
-d或--repeated：仅显示重复出现的行列；
-f&lt;栏位&gt;或--skip-fields=&lt;栏位&gt;：忽略比较指定的栏位；
-s&lt;字符位置&gt;或--skip-chars=&lt;字符位置&gt;：忽略比较指定的字符；
-u或——unique：仅显示出一次的行列；
-w&lt;字符位置&gt;或--check-chars=&lt;字符位置&gt;：指定要比较的字符。
</code></pre>
<h4 id="58-显示指定磁盘文件的可用空间-如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示"><a href="#58-显示指定磁盘文件的可用空间-如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示" class="headerlink" title="58. 显示指定磁盘文件的可用空间,如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示"></a>58. 显示指定磁盘文件的可用空间,如果没有文件名被指定，则所有当前被挂载的文件系统的可用空间将被显示</h4><p>功能是为文件在另外一个位置建立一个同步的链接，当在不同目录需要该问题时，就不需要为每一个目录创建同样的文件，通过 ln 创建的链接（link）减少磁盘占用量。
链接分类：软件链接及硬链接
软链接
</p>

<p> 硬链接</p>
<ul>
<li>硬链接，以文件副本的形式存在。但不占用实际空间。</li>
<li>不允许给目录创建硬链接</li>
<li>硬链接只有在同一个文件系统中才能创建</li>
</ul>
<p> 软链接</p>
<ul>
<li>软链接，以路径的形式存在。类似于Windows操作系统中的快捷方式</li>
<li>软链接可以 跨文件系统 ，硬链接不可以</li>
<li>软链接可以对一个不存在的文件名进行链接</li>
<li>软链接可以对目录进行链接</li>
</ul>
<blockquote>
<p>du</p>
</blockquote>
<pre><code>-a  显示全部文件系统
-h  文件大小友好显示
-l  只显示本地文件系统
-i  显示inode信息
-T  显示文件系统类型
</code></pre>
<blockquote>
<blockquote>
<p>例子</p>
</blockquote>
</blockquote>
<pre><code>#  给文件创建软链接,并显示操作信息
ln -sv source.log link.log
#  给文件创建硬链接,并显示操作信息
ln -v source.log link1.log
#  给目录创建软链接
ln -sv /opt/soft/test/test3 /opt/soft/test/test5
</code></pre>
<h4 id="59-显示每个文件和目录的磁盘使用空间"><a href="#59-显示每个文件和目录的磁盘使用空间" class="headerlink" title="59.显示每个文件和目录的磁盘使用空间"></a>59.显示每个文件和目录的磁盘使用空间</h4><blockquote>
<p>du [选项][文件]</p>
</blockquote>
<pre><code>-h 方便阅读的方式
-s 只显示总和的大小
</code></pre>
<h4 id="60-某一个文件在另外一个位置建立一个同步的链接"><a href="#60-某一个文件在另外一个位置建立一个同步的链接" class="headerlink" title="60. 某一个文件在另外一个位置建立一个同步的链接"></a>60. 某一个文件在另外一个位置建立一个同步的链接</h4><blockquote>
<p>ln [参数] [源文件或目录] [目标文件或目录]</p>
</blockquote>
<pre><code>-s  建立软连接   
-v  显示详细的处理过程
</code></pre>
<h4 id="61-比较单个文件或者目录内容"><a href="#61-比较单个文件或者目录内容" class="headerlink" title="61. 比较单个文件或者目录内容"></a>61. 比较单个文件或者目录内容</h4><blockquote>
<p>diff [参数] [文件1或目录1] [文件2或目录2]</p>
</blockquote>
<pre><code>-b 　不检查空格字符的不同。
-B 　不检查空白行。
-i  不检查大小写
-q  仅显示差异而不显示详细信息
eg: diff a b &gt; parch.log 比较两个文件的不同并产生补丁
</code></pre>
<h4 id="62-显示或设定系统的日期与时间"><a href="#62-显示或设定系统的日期与时间" class="headerlink" title="62. 显示或设定系统的日期与时间"></a>62. 显示或设定系统的日期与时间</h4><blockquote>
<p>date [参数]… [+格式]</p>
</blockquote>
<pre><code>%H 小时(以00-23来表示)。 
%M 分钟(以00-59来表示)。 
%P AM或PM。
%D 日期(含年月日)
%U 该年中的周数。
date -s “2015-10-17 01:01:01″ //时间设定
date +%Y%m%d         //显示前天年月日
date +%Y%m%d --date=&quot;+1 day/month/year&quot;  //显示前一天/月/年的日期
date +%Y%m%d --date=&quot;-1 day/month/year&quot;  //显示后一天/月/年的日期
date -d &#39;2 weeks&#39; 2周后的日期
</code></pre>
<h4 id="63-查看日历"><a href="#63-查看日历" class="headerlink" title="63. 查看日历"></a>63. 查看日历</h4><blockquote>
<p>cal [参数] 月份] [年份]</p>
</blockquote>
<pre><code>-1  显示当月的月历
-3  显示前、当、后一个月的日历
-m  显示星期一为一个星期的第一天
-s  （默认）星期天为第一天
-j  显示当月是一年中的第几天的日历
-y  显示当前年份的日历
</code></pre>
<h4 id="64-列出当前进程的快照"><a href="#64-列出当前进程的快照" class="headerlink" title="64. 列出当前进程的快照"></a>64. 列出当前进程的快照</h4><blockquote>
<p>ps</p>
</blockquote>
<pre><code>a   显示所有的进程
-a  显示同一终端下的所有程序
e   显示环境变量
f   显示进程间的关系
-H  显示树状结构
r   显示当前终端的程序
T   显示当前终端的所有程序
-au 显示更详细的信息
-aux    显示所有包含其他使用者的行程 
-u  指定用户的所有进程
</code></pre>
<h4 id="65-显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等"><a href="#65-显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等" class="headerlink" title="65. 显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等"></a>65. 显示当前系统正在执行的进程的相关信息，包括进程ID、内存占用率、CPU占用率等</h4><blockquote>
<p>top</p>
<h4 id="66-杀死进程"><a href="#66-杀死进程" class="headerlink" title="66.  杀死进程"></a>66.  杀死进程</h4><p>kill [参数] [进程号]</p>
<h4 id="67-显示linux系统中空闲的、已用的物理内存及swap内存-及被内核使用的buffer"><a href="#67-显示linux系统中空闲的、已用的物理内存及swap内存-及被内核使用的buffer" class="headerlink" title="67.  显示linux系统中空闲的、已用的物理内存及swap内存,及被内核使用的buffer"></a>67.  显示linux系统中空闲的、已用的物理内存及swap内存,及被内核使用的buffer</h4><p>free [参数]</p>
</blockquote>
<h4 id="68-对操作系统的虚拟内存、进程、CPU活动进行监控"><a href="#68-对操作系统的虚拟内存、进程、CPU活动进行监控" class="headerlink" title="68. 对操作系统的虚拟内存、进程、CPU活动进行监控"></a>68. 对操作系统的虚拟内存、进程、CPU活动进行监控</h4><blockquote>
<p>vmstat</p>
</blockquote>
<h4 id="69-对系统的磁盘操作活动进行监视-汇报磁盘活动统计情况，同时也会汇报出CPU使用情况"><a href="#69-对系统的磁盘操作活动进行监视-汇报磁盘活动统计情况，同时也会汇报出CPU使用情况" class="headerlink" title="69. 对系统的磁盘操作活动进行监视,汇报磁盘活动统计情况，同时也会汇报出CPU使用情况"></a>69. 对系统的磁盘操作活动进行监视,汇报磁盘活动统计情况，同时也会汇报出CPU使用情况</h4><blockquote>
<p>iostat [参数] [时间t] [次数n](每隔t时间刷新一次，最多刷新n次）</p>
</blockquote>
<pre><code>-p[磁盘] 显示磁盘和分区的情况
</code></pre>
<h4 id="70-重复执行某一命令以观察变化"><a href="#70-重复执行某一命令以观察变化" class="headerlink" title="70. 重复执行某一命令以观察变化"></a>70. 重复执行某一命令以观察变化</h4><blockquote>
<p>watch [参数] [命令]</p>
</blockquote>
<pre><code>-n  时隔多少秒刷新
-d  高亮显示动态变化
</code></pre>
<h4 id="71-在一个指定的时间执行一个指定任务，只能执行一次"><a href="#71-在一个指定的时间执行一个指定任务，只能执行一次" class="headerlink" title="71. 在一个指定的时间执行一个指定任务，只能执行一次"></a>71. 在一个指定的时间执行一个指定任务，只能执行一次</h4><blockquote>
<p>at [参数] [时间]</p>
</blockquote>
<pre><code>HH:MM[am|pm] + number [minutes|hours|days|weeks] 强制在某年某月某日的某时刻进行该项任务
atq 查看系统未执行的任务
atrm n 删除编号为n的任务
at -c n 显示编号为n的任务的内容
</code></pre>
<h4 id="72-定时任务调度"><a href="#72-定时任务调度" class="headerlink" title="72.  定时任务调度"></a>72.  定时任务调度</h4><blockquote>
<p>crontab </p>
</blockquote>
<pre><code>file    载入crontab
-e  编辑某个用户的crontab文件内容
-l  显示某个用户的crontab文件内容
-r  删除某个用户的crontab文件
</code></pre>
<h4 id="73-查看和配置网络设备"><a href="#73-查看和配置网络设备" class="headerlink" title="73.  查看和配置网络设备"></a>73.  查看和配置网络设备</h4><blockquote>
<p>ifconfig [网络设备] [参数] </p>
</blockquote>
<h4 id="74-显示和操作IP路由表"><a href="#74-显示和操作IP路由表" class="headerlink" title="74. 显示和操作IP路由表"></a>74. 显示和操作IP路由表</h4><blockquote>
<p>route</p>
</blockquote>
<h4 id="75-测试与目标主机的连通性"><a href="#75-测试与目标主机的连通性" class="headerlink" title="75. 测试与目标主机的连通性"></a>75. 测试与目标主机的连通性</h4><blockquote>
<p>ping [参数] [主机名或IP地址]</p>
</blockquote>
<pre><code>-q  只显示最后的结果
</code></pre>
<h4 id="76-显示与IP、TCP、UDP和ICMP协议相关的统计数据"><a href="#76-显示与IP、TCP、UDP和ICMP协议相关的统计数据" class="headerlink" title="76. 显示与IP、TCP、UDP和ICMP协议相关的统计数据"></a>76. 显示与IP、TCP、UDP和ICMP协议相关的统计数据</h4><blockquote>
<p>netstat </p>
<h4 id="77-用于远程登录，采用明文传送报文，安全性不好"><a href="#77-用于远程登录，采用明文传送报文，安全性不好" class="headerlink" title="77.  用于远程登录，采用明文传送报文，安全性不好"></a>77.  用于远程登录，采用明文传送报文，安全性不好</h4><p>telnet [参数] [主机]</p>
</blockquote>
<h4 id="78-远程文件拷贝"><a href="#78-远程文件拷贝" class="headerlink" title="78. 远程文件拷贝"></a>78. 远程文件拷贝</h4><blockquote>
<p>rcp [参数] [源文件] [目标文件] </p>
</blockquote>
<pre><code>-r  递归复制
-p  保留源文件的属性
usage: rcp –r remote_hostname:remote_dir local_dir
</code></pre>
<h4 id="79-直接从网络上下载文件"><a href="#79-直接从网络上下载文件" class="headerlink" title="79.  直接从网络上下载文件"></a>79.  直接从网络上下载文件</h4><blockquote>
<p>wget [参数] [URL地址]</p>
</blockquote>
<pre><code>-o FILE 把记录写到FILE文件中    eg : wget -O a.txt URL
wget --limit-rate=300k URL  限速下载
</code></pre>
<h4 id="80-对数据行进行替换、删除、新增、选取等操作"><a href="#80-对数据行进行替换、删除、新增、选取等操作" class="headerlink" title="80. 对数据行进行替换、删除、新增、选取等操作"></a>80. 对数据行进行替换、删除、新增、选取等操作</h4><blockquote>
<p>sed </p>
</blockquote>
<pre><code>a   新增，在新的下一行出现
c   取代，取代 n1,n2 之间的行 eg: sed &#39;1,2c Hi&#39; ab
d   删除
i   插入，在新的上一行出现
</code></pre>
<h4 id="81-合并文件，需确保合并的两文件行数相同"><a href="#81-合并文件，需确保合并的两文件行数相同" class="headerlink" title="81.  合并文件，需确保合并的两文件行数相同"></a>81.  合并文件，需确保合并的两文件行数相同</h4><blockquote>
<p>paste </p>
</blockquote>
<pre><code>-d  指定不同于空格或tab键的域分隔符
-s  按行合并，单独一个文件为一行
</code></pre>
<h4 id="82-授予用户文件夹权"><a href="#82-授予用户文件夹权" class="headerlink" title="82 授予用户文件夹权"></a>82 授予用户文件夹权</h4><blockquote>
<p>chown </p>
</blockquote>
<pre><code> chown -R 用户名   文件夹
</code></pre>
<h4 id="83-df-命令"><a href="#83-df-命令" class="headerlink" title="83  df  命令"></a>83  df  命令</h4><p> 显示磁盘空间的使用情况</p>
```
-a 全部文件系统列表
-h 以方便阅读的方式显示信息
-i 显示inode信息
-k 区块为1024字节
-l 只显示本地磁盘
-T 列出文件系统类型
```
#### 84. 用命令行运行deb安装包
```
如果ubuntu要安装新软件，已有deb安装包（例如：iptux.deb），但是无法登录到桌面环境。那该怎么安装？答案是：使用dpkg命令。
dpkg命令常用格式如下：
sudo dpkg -I iptux.deb #查看iptux.deb软件包的详细信息，包括软件名称、版本以及大小等（其中-I等价于--info）
sudo dpkg -c iptux.deb #查看iptux.deb软件包中包含的文件结构（其中-c等价于--contents）
sudo dpkg -i iptux.deb #安装iptux.deb软件包（其中-i等价于--install）
sudo dpkg -l iptux #查看iptux软件包的信息（软件名称可通过dpkg -I命令查看，其中-l等价于--list）
sudo dpkg -L iptux #查看iptux软件包安装的所有文件（软件名称可通过dpkg -I命令查看，其中-L等价于--listfiles）
sudo dpkg -s iptux #查看iptux软件包的详细信息（软件名称可通过dpkg -I命令查看，其中-s等价于--status）
sudo dpkg -r iptux #卸载iptux软件包（软件名称可通过dpkg -I命令查看，其中-r等价于--remove）
注：dpkg命令无法自动解决依赖关系。如果安装的deb包存在依赖包，则应避免使用此命令，或者按照依赖关系顺序安装依赖包。
```
##### 85. Ubuntu 18.04修改默认源为国内源

<pre><code>修改阿里源为Ubuntu 18.04默认的源

备份/etc/apt/sources.list
#备份
cp /etc/apt/sources.list /etc/apt/sources.list.bak

在/etc/apt/sources.list文件前面添加如下条目
#添加阿里源
deb http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.aliyun.com/ubuntu/ bionic-backports main restricted universe multiverse

最后执行如下命令更新源
##更新
sudo apt-get update
sudo apt-get upgrade

另外其他几个国内源如下： 
中科大源
##中科大源
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src https://mirrors.ustc.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse

163源
##163源
deb http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-security main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-updates main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src http://mirrors.163.com/ubuntu/ bionic-backports main restricted universe multiverse

清华源
##清华源
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-updates main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-backports main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-security main restricted universe multiverse
deb https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
deb-src https://mirrors.tuna.tsinghua.edu.cn/ubuntu/ bionic-proposed main restricted universe multiverse
</code></pre>
<h5 id="86-修改用户为sudo-免密码"><a href="#86-修改用户为sudo-免密码" class="headerlink" title="86 修改用户为sudo 免密码"></a>86 修改用户为sudo 免密码</h5><pre><code>1. 编辑 sudo vi /etc/sudoers
2. 找到%sudo    ALL=(ALL:ALL) ALL
，在下边添加类似的一行
luyanan ALL = NOPASSWD: ALL
</code></pre>
<h5 id="87-查看进程"><a href="#87-查看进程" class="headerlink" title="87 查看进程"></a>87 查看进程</h5><pre><code>ps -ef|grep java、tomcat、maven、nginx
</code></pre>
<h5 id="88-查看运行端口号"><a href="#88-查看运行端口号" class="headerlink" title="88. 查看运行端口号"></a>88. 查看运行端口号</h5><pre><code>netstat -tunlp|grep java、nginx
</code></pre>
<h5 id="89-全局搜索"><a href="#89-全局搜索" class="headerlink" title="89. 全局搜索"></a>89. 全局搜索</h5><pre><code>find / -name &#39;文件名&#39;
</code></pre>
<h6 id="90-防火墙-iptable"><a href="#90-防火墙-iptable" class="headerlink" title="90 防火墙  iptable"></a>90 防火墙  iptable</h6><h6 id="修改防火墙开放端口"><a href="#修改防火墙开放端口" class="headerlink" title="修改防火墙开放端口"></a>修改防火墙开放端口</h6><pre><code>vim /etc/sysconfig/iptables
</code></pre>
<h6 id="重启防火墙"><a href="#重启防火墙" class="headerlink" title="重启防火墙"></a>重启防火墙</h6><pre><code>systemctl restart iptables.service
</code></pre>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">luyanan</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="https://rainsoil.github.io/2022/01/04/linux/linux-ming-ling-da-quan/">https://rainsoil.github.io/2022/01/04/linux/linux-ming-ling-da-quan/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">luyanan</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            <span class="chip bg-color">无标签</span>
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
        </div>
    </div>

    

    

    

    

    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/01/04/maven/maven-pei-zhi-can-shu-xiang-jie/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/1.jpg" class="responsive-img" alt="maven 配置参数详解">
                        
                        <span class="card-title">maven 配置参数详解</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-01-04
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/maven/" class="post-category">
                                    maven
                                </a>
                            
                            <a href="/categories/maven/maven/" class="post-category">
                                    maven
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/01/04/mybatis/mybatis-yu-spring-zheng-he-fen-xi-4/">
                    <div class="card-image">
                        
                        
                        <img src="/medias/featureimages/15.jpg" class="responsive-img" alt="Mybatis与Spring整合分析(4)">
                        
                        <span class="card-title">Mybatis与Spring整合分析(4)</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-01-04
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/mybatis/" class="post-category">
                                    mybatis
                                </a>
                            
                            <a href="/categories/mybatis/mybatis/" class="post-category">
                                    mybatis
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="/libs/codeBlock/codeBlockFuction.js"></script>

<!-- 代码语言 -->

<script type="text/javascript" src="/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="/libs/codeBlock/codeShrink.js"></script>


    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('0'),
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('#articleContent').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    
        <link rel="stylesheet" href="/libs/aplayer/APlayer.min.css">
<style>
    .aplayer .aplayer-lrc p {
        
        display: none;
        
        font-size: 12px;
        font-weight: 700;
        line-height: 16px !important;
    }

    .aplayer .aplayer-lrc p.aplayer-lrc-current {
        
        display: none;
        
        font-size: 15px;
        color: #42b983;
    }

    
    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body {
        left: -66px !important;
    }

    .aplayer.aplayer-fixed.aplayer-narrow .aplayer-body:hover {
        left: 0px !important;
    }

    
</style>
<div class="">
    
    <div class="row">
        <meting-js class="col l8 offset-l2 m10 offset-m1 s12"
                   server="netease"
                   type="playlist"
                   id="503838841"
                   fixed='true'
                   autoplay='false'
                   theme='#42b983'
                   loop='all'
                   order='random'
                   preload='auto'
                   volume='0.7'
                   list-folded='true'
        >
        </meting-js>
    </div>
</div>

<script src="/libs/aplayer/APlayer.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/meting@2/dist/Meting.min.js"></script>

    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2019-2022</span>
            
            <a href="/about" target="_blank">luyanan</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">803.3k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/rainsoil" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:luyanan0718@163.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=914596513" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 914596513" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="/libs/materialize/materialize.min.js"></script>
    <script src="/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="/libs/aos/aos.js"></script>
    <script src="/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    <script src="/libs/others/clicklove.js" async="async"></script>
    
    
    <script async src="/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    
    <script type="text/javascript" color="0,0,255"
        pointColor="0,0,255" opacity='0.7'
        zIndex="-1" count="99"
        src="/libs/background/canvas-nest.js"></script>
    

    

    

    
    <script src="/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
